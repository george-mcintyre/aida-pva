<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=11"/>
  <meta name="generator" content="Doxygen 1.9.2"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>AIDA-PVA: SLCKlysUsersGuide</title>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="search/searchdata.js"></script>
  <script type="text/javascript" src="search/search.js"></script>
  <link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
  <div id="titlearea">
    <table cellspacing="0" cellpadding="0">
      <tbody>
      <tr style="height: 56px;">
        <td id="projectalign" style="padding-left: 0.5em;">
          <div id="projectname">AIDA-PVA<span id="projectnumber">&#160;2.0</span>
          </div>
          <div id="projectbrief">AIDA-PVA is the latest version of the AIDA framework. Built on top of EPICS 7 it
            enables client applications to programmatically access and manage any device or database on the SLAC Network
            using simple channel names.
          </div>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
  <!-- end header part -->
  <!-- Generated by Doxygen 1.9.2 -->
  <script type="text/javascript">
    /* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
    var searchBox = new SearchBox("searchBox", "search", 'Search', '.html')
    /* @license-end */
  </script>
  <script type="text/javascript" src="menudata.js"></script>
  <script type="text/javascript" src="menu.js"></script>
  <script type="text/javascript">
    /* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
    $(function () {
      initMenu('', true, false, 'search.php', 'Search')
      $(document).ready(function () {
        init_search()
      })
    })
    /* @license-end */
  </script>
  <div id="main-nav"></div>
  <!-- window showing the filter options -->
  <div id="MSearchSelectWindow"
       onmouseover="return searchBox.OnSearchSelectShow()"
       onmouseout="return searchBox.OnSearchSelectHide()"
       onkeydown="return searchBox.OnSearchSelectKey(event)">
  </div>

  <!-- iframe showing the search results (closed by default) -->
  <div id="MSearchResultsWindow">
    <iframe src="javascript:void(0)" frameborder="0"
            name="MSearchResults" id="MSearchResults">
    </iframe>
  </div>

</div><!-- top -->
<div>
  <div class="header">
    <div class="headertitle">
      <div class="title">SLCKlysUsersGuide</div>
    </div>
  </div><!--header-->
  <div class="contents">
    <div class="textblock"><p>This page provides documentation for users and programmers of AIDA's SLC Klystron Data
      Provider. This data provider allows the retrieval of the status code or a status string for a specified klystron
      on a beam code. It also allows the deactivation or reactivation of a specified klystron on a beam code. The PDES
      value for a klystron or subbooster may be set and the phase may be optionally trimmed. The KPHR value for a
      klystron or subboster may be set. Finally, a configuration value (PCON or ACON) of a specified klystron or
      subbooster may be set.</p>
      <p>See Also: Basic Users Guide to Aida, REF_AIDASHR; AIDA SLC Peer Programmers Guide</p>
      <p>Users Guide This section descibes what an AIDA user should know about using the SLC Klystron data provider. For
        general information on using AIDA see Basic Users Guide to Aida, and the Aida javadoc, in particular the classes
        DaObject and DaReference, in aida.lib.da which form Aida's programming interface. One can also use Aida through
        Matlab.</p>
      <p><a class="el" href="struct_table.html" title="Table structure.">Table</a> 1: Summary of AIDA Data Provider for
        SLC Klystron Data</p>
      <p>SUMMARY Supports get and set operations. The get operation obtains the status code or a status string for a
        specified klystron on a beam code. There are four set operations that can be performed: (1) deactivate or
        reactivate a specified klystron on a beam code, (2) set the PDES value and optionally trim the phase of a
        specified klystron or subbooster, (3) set the KPHR value of a specified klystron or subbooster, and (4) set a
        configuration value (PCON or ACON) of a specified klystron or subbooster. Status and limitations <br/>
        The data provider is complete and there are no known limitations</p>
      <p>Plan No active plans for extensions.</p>
      <p>EXAMPLES Schematic Java examples, see DpSlcKlysTests.java for more examples: String query =
        "KLYS:LI31:31:TACT"; da.setParam("BEAM=8"); /* Required parameter specifying a beam code. */
        da.setParam("DGRP=DEV_DGRP"); /* Display group must be specified if klystron is not in display group LIN_KLYS.
        */ Short v = (Short) da.get(query, DaValue.Type.SHORT); /* Get the status code for the klystron on the beam
        code. */</p>
      <p>String query = "KLYS:LI31:31:TACT"; da.setParam("BEAM=8"); /* Required parameter specifying a beam code. */
        da.setParam("DGRP=DEV_DGRP"); /* Display group must be specified if klystron is not in display group LIN_KLYS.
        */ String v = (String) da.get(query, DaValue.Type.STRING); /* String type indicates to get the status string.
        */</p>
      <p>String query = "KLYS:LI31:31:TACT"; da.setParam("BEAM=8"); /* Required parameter specifying a beam code. */
        da.setParam("DGRP=DEV_DGRP"); /* Display group must be specified if klystron is not in display group LIN_KLYS.
        */ Short setValue = new Short((short) 0); /* Flag 0 indicates a deactivation operation. */ DaValue inData = new
        DaValue(setValue); /* Creation a DaValue to hold operation flag. */ DaValue outData = da.setDaValue(query,
        inData); /* Perform specified operation to klystron on beam code. */</p>
      <p>String query = "KLYS:LI31:31:PDES"; /* Indication of set PDES and optional trim phase operation. */ Float
        pdesValue = new Float(90.0f); /* Specified desired PDES value. */ DaValue inData = new DaValue(pdesValue); /*
        Creation of DaValue to hold pdesValue. */ DaValue outData = da.setDaValue(query, inData); /* Perform set PDES
        and trim phase operation. */</p>
      <p>String query = "KLYS:LI31:31:KPHR"; /* Indication of set KPHR value operation. */ Float kphrValue = new
        Float(60.0f); /* Specified desired KPHR value. */ DaValue inData = new DaValue(kphrValue); /* Creation of
        DaValue to hold kphrValue. */ DaValue outData = da.setDaValue(query, inData); /* Perform set KPHR value
        operation. */</p>
      <p>String query = "KLYS:LI31:31:PCON"; /* Indication of set PCON value operation. */ Float newValue = new
        Float(5.0f); /* Specified desired PCON value. */ DaValue inData = new DaValue(newValue); /* Creation of DaValue
        to hold newValue. */ da.setDaValue(query, inData); /* Perform set PCON value operation (no value is returned).
        */ Java $CD_SOFT/ref/package/aida/test/java/DpSlcKlysTests.java Matlab
        $CD_SOFT/ref/package/aida/test/matlab/klysGetDemo.m gets status of a klystron;
        $CD_SOFT/ref/package/aida/test/matlab/klysSetDemo.m deactivates or reactivates a klystron.
        $CD_SOFT/ref/package/aida/test/matlab/klysSetTrimDemo.m sets the PDES value and trims the phase of a klystron or
        subbooster. $CD_SOFT/ref/package/aida/test/matlab/klysSetKphrDemo.m sets the KPHR value of a klystron or
        subbooster.</p>
      <p>INSTANCES and ATTRIBUTES Instance Type Description Get Syntax &lt;prim&gt;:&lt;micr&gt;:&lt;unit&gt;:TACT
        Examples <br/>
        KLYS:LI31:31:TACT</p>
      <p>Set Syntax &lt;prim&gt;:&lt;micr&gt;:&lt;unit&gt;:TACT &lt;prim&gt;:&lt;micr&gt;:&lt;unit&gt;:PDES &lt;prim&gt;:&lt;micr&gt;:&lt;unit&gt;:KPHR
        &lt;prim&gt;:&lt;micr&gt;:&lt;unit&gt;:PCON &lt;prim&gt;:&lt;micr&gt;:&lt;unit&gt;:ACON Examples <br/>
        KLYS:LI31:31:TACT KLYS:LI31:31:PDES KLYS:LI31:31:KPHR KLYS:LI31:31:PCON KLYS:LI31:31:ACON</p>
      <p>Attributes Attribute Description TACT Gets a status code or a status string for the specified klystron on a
        beam code. Methods Name* Returns get(d,DaValue.Types.SHORT) A short value containing the status code for the
        klystron on a beam code - see linklysta.txt get(d,DaValue.Types.LONG) A long value containing the status code
        for the klystron on a beam code - see linklysta.txt get(d,DaValue.Types.STRING) A string value containing a
        status string having one of two values: "deactivated" or "activated". Parameters Name <br/>
        Req/ Opt</p>
      <p>Syntax Semantics BEAM <br/>
        req</p>
      <p>Integer Beam code number DGRP opt Dgrp name A display group associated with the specified klystron. Must be
        specified if the klystron does not belong to display group LIN_KLYS. TACT Deactivates or reactivates a specified
        klystron on a beam code. The parameter data argument (p) is a DaValue containing a Short flag code indicating
        the desired operation: 0 =&gt; deactivate, 1 =&gt; reactivate. Methods Name* Returns setDaValue(q, p) Returns a
        DaValue containing a matrix having one value of type short: the status code for the specified klystron on a beam
        code - see linklysta.txt Parameters Name <br/>
        Req/ Opt</p>
      <p>Syntax Semantics BEAM req Integer Beam code number DGRP opt Dgrp name A display group associated with the
        specified klystron. Must be specified if the klystron does not belong to display group LIN_KLYS. PDES Sets the
        PDES value and optionally trims the phase for a specified klystron or subbooster. The parameter data argument
        (p) is a DaValue containing a Float with the desired PDES value. Methods Name* Returns setDaValue(q, p) Returns
        a DaValue containing a matrix having one value of type float: the PHAS secondary value after the set PDES and
        optional trim phase operation. Parameters Name <br/>
        Req/ Opt</p>
      <p>Syntax Semantics TRIM opt YES or NO If specified and set to NO, no trim phase operation will be performed after
        setting the PDES value. If not specified or set to YES, the trim phase operation will be performed. KPHR Sets
        the KPHR value of a specified klystron or subbooster. The parameter data argument (p) is a DaValue containing a
        Float with the desired KPHR value. Methods Name* Returns setDaValue(q, p) Returns a DaValue containing a matrix
        having one value of type float: the PHAS secondary value after the set KPHR operation. Parameters None PCON or
        ACON Sets the PCON or ACON value of a specified klystron or subbooster. The parameter data argument (p) is a
        DaValue containing a Float with the desired PCON or ACON value. Methods Name* Returns setDaValue(q, p) No data
        is returned. Parameters None</p>
      <ul>
        <li>See DaObject and DaReference (and DaReference's parent _DaReference) in aida.lib.da for full API and method
          signatures.
        </li>
      </ul>
    </div>
  </div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/>
<address class="footer"><small>
  Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104"
                                                                      height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
