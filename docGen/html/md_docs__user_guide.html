<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=11"/>
  <meta name="generator" content="Doxygen 1.9.2"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>AIDA-PVA: User Guide to AIDA-PVA</title>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="search/searchdata.js"></script>
  <script type="text/javascript" src="search/search.js"></script>
  <link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
  <div id="titlearea">
    <table cellspacing="0" cellpadding="0">
      <tbody>
      <tr style="height: 56px;">
        <td id="projectalign" style="padding-left: 0.5em;">
          <div id="projectname">AIDA-PVA<span id="projectnumber">&#160;2.0</span>
          </div>
          <div id="projectbrief">AIDA-PVA is the latest version of the AIDA framework. Built on top of EPICS 7 it
            enables client applications to programmatically access and manage any device or database on the SLAC Network
            using simple channel names.
          </div>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
  <!-- end header part -->
  <!-- Generated by Doxygen 1.9.2 -->
  <script type="text/javascript">
    /* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
    var searchBox = new SearchBox("searchBox", "search", 'Search', '.html')
    /* @license-end */
  </script>
  <script type="text/javascript" src="menudata.js"></script>
  <script type="text/javascript" src="menu.js"></script>
  <script type="text/javascript">
    /* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
    $(function () {
      initMenu('', true, false, 'search.php', 'Search')
      $(document).ready(function () {
        init_search()
      })
    })
    /* @license-end */
  </script>
  <div id="main-nav"></div>
  <!-- window showing the filter options -->
  <div id="MSearchSelectWindow"
       onmouseover="return searchBox.OnSearchSelectShow()"
       onmouseout="return searchBox.OnSearchSelectHide()"
       onkeydown="return searchBox.OnSearchSelectKey(event)">
  </div>

  <!-- iframe showing the search results (closed by default) -->
  <div id="MSearchResultsWindow">
    <iframe src="javascript:void(0)" frameborder="0"
            name="MSearchResults" id="MSearchResults">
    </iframe>
  </div>

</div><!-- top -->
<div>
  <div class="header">
    <div class="headertitle">
      <div class="title">User Guide to AIDA-PVA</div>
    </div>
  </div><!--header-->
  <div class="contents">
    <div class="textblock"><p>This is the guide to using the AIDA-PVA system at Stanford National Laboratory. AIDA is
      the Accellerator Integrated Data Access framework developed by SLAC in the early 2000s. AIDA-PVA is the latest
      version developed in the early 20s.</p>
      <p>If you are already familiar AIDA you can jump to Differences Between AIDA and AIDA-PVA without reading all of
        the following sections. If you are already familiar with EPICS and just want to know how you can use it to
        access AIDA-PVA data providers then check out EPICS and AIDA-PVA. <br/>
        If you're new to both AIDA and EPICS then grab a coffee, and strap in, this may take some time :)</p>
      <h1><a class="anchor" id="autotoc_md70"></a>
        Overview</h1>
      <p>AIDA-PVA is the successor to AIDA a system for providing programatic access to SLC control system devices, data
        and services. <br/>
        Since its introduction in 2002 it has has been used in other laboratories in the US and around the world. It
        provides a naming convention to address all devices and their attributes, a way of specifying arguments for
        remote procedure calls and obtaining results in any format, including rich formats including metadata. Finally,
        it provides security, logging and reliability to allow it to be used in a variety of applications from logging,
        and monitoring, to modeling and control.</p>
      <p>AIDA-PVA supercedes AIDA but both AIDA and AIDA-PVA co-exist and share many of the low level AIDA provider
        layers so that the results obtained by usine either version remain consistent.</p>
      <p>Legacy AIDA uses CORBA to transport requests to the Data Providers while AIDA-PVA uses EPICS-7's PV-Access
        mechanism. <br/>
        EPICS has become a staple for laboratories around the world and leveraging its features allows scientists and
        engineers who are already familiar with programming on EPICS to access AIDA-PVA data providers with very little
        effort.</p>
      <p>[ DIAGRAM ] - nb. do just the aida-pva part, keep whole thing for differences doc</p>
      <p>Programming Language / Command Line tool /</p>
      <p>LEGACY CLIENT CLIENT <br/>
        (AIDA - Client) EPICS</p>
      <p>CORBA PV-ACCESS --&gt; other EPICS services</p>
      <p>AIDA PROVIDER AIDA PROVIDER (AIDA - Server) (AIDA-PVA) CORBA STUB AIDA-PVA.JAR JNI <br/>
        DP-AIDA-PVA-IMPL DATA-PROVIDER CODE DATA-PROVIDER CODE</p>
      <p>(DaValue) (Normative Types and tables - PV Structure)</p>
      <h1><a class="anchor" id="autotoc_md71"></a>
        Components</h1>
      <p>As you can see clients using AIDA-PVA will look like any any other EPICS client. AIDA-PVA data providers are
        implemented inside the EPICS framework and so will appear to EPICs clients as just another EPICS service. <br/>
        In order to access an AIDA provder you'll give a PV (Process Variable) Name, in EPICS parlance. The EPICS
        framework will find the service that serves requests for that PV and directs services to it.</p>
      <p>The AIDA Provider is made up of three parts - there is the AIDA-PVA jar which is a glue that registers the
        service in the EPICS network, the Data provder code that accesses and controls the devices or databases, and the
        code that links the two together.</p>
      <h1><a class="anchor" id="autotoc_md72"></a>
        New naming conventions</h1>
      <p>In AIDA names consist of DEVICE:ATTRIBUTE where DEVICE can have other sub parts composed typically delimited by
        colons. Though the ATTRIBUTE part is typically a single name in rare cases it also has parts delimited by
        colons.</p>
      <p>in AIDA-PVA names have the same components but are all separated by colons so PRIM:MICR:UNIT//ATTR becomes
        PRIM:MICR:UNIT:ATTR in AIDA-PVA. In this way AIDA-PVA allows accessing services with the same naming conventions
        as EPICS.</p>
      <p>Even though AIDA-PVA has an updated naming scheme to align with EPICs it is backwards compatible with AIDA and
        allows legacy style names.</p>
      <h1><a class="anchor" id="autotoc_md73"></a>
        Call semantics</h1>
      <h2><a class="anchor" id="autotoc_md74"></a>
        Request</h2>
      <p>Requests (previously known as get in AIDA) request data from the specified PV. The requests can take optional
        arguments which are simple name,value pairs. The value can be either a simple string, a scalar value, or some
        json that allows specifying arrays, and objects. The interpretation of these arguments is provider dependent.
        Each provider will publish the arguments they accept for each set of PVs they support and will describe the
        names, formats, requiredness, defaults, and acceptable values of the parameters they support.</p>
      <p>EPICS allows synchronous and Asynchronous call semantics so either can be used with AIDA-PVA.</p>
      <p>Exceptions are propagated back to the caller and are logged using the configured logger in the data provider -
        cmlog.</p>
      <h2><a class="anchor" id="autotoc_md75"></a>
        Set</h2>
      <p>AIDA-PVA allows you to set values associated with PVs. These special requests are known as Setters. To select a
        Setter request simply add an argument called <code>VALUE</code>. All Setters have a value which is the value
        that the PV will be set to. Other arguments can be specified as described by the provider.</p>
      <h2><a class="anchor" id="autotoc_md76"></a>
        TYPE</h2>
      <p>When you need to specify the type of the response you can set the TYPE argument to one of the available types.
        <br/>
        e.g. <code>TYPE=FLOAT</code></p>
      <ul>
        <li>Scalar Types
          <ul>
            <li><code>BOOLEAN</code> to return a boolean</li>
            <li><code>BYTE</code> to return a byte</li>
            <li><code>SHORT</code> to return a short</li>
            <li><code>INTEGER</code> to return an integer</li>
            <li><code>LONG</code> to return a long</li>
            <li><code>FLOAT</code> to return a float</li>
            <li><code>DOUBLE</code> to return a double</li>
            <li><code>STRING</code> to return a string</li>
          </ul>
        </li>
        <li>Scalar <a class="el" href="struct_array.html" title="An array of data.">Array</a> Types
          <ul>
            <li><code>BOOLEAN_ARRAY</code> to return a boolean array</li>
            <li><code>BYTE_ARRAY</code> to return a byte array</li>
            <li><code>SHORT_ARRAY</code> to return a short array</li>
            <li><code>INTEGER_ARRAY</code> to return an integer array</li>
            <li><code>LONG_ARRAY</code> to return a long array</li>
            <li><code>FLOAT_ARRAY</code> to return a float array</li>
            <li><code>DOUBLE_ARRAY</code> to return a double array</li>
            <li><code>STRING_ARRAY</code> to return a string array</li>
          </ul>
        </li>
        <li>Tables
          <ul>
            <li><code>TABLE</code> to return an NT/TABLE</li>
          </ul>
        </li>
      </ul>
      <h2><a class="anchor" id="autotoc_md77"></a>
        TABLE_TYPE</h2>
      <p>If supported you can specify the type for rows in a table by providing the <code>TABLE_TYPE</code> argument.
        The value can be any Scalar or Scalar <a class="el" href="struct_array.html" title="An array of data.">Array</a>
        type. eg. <code>TABLE_TYPE=FLOAT</code> for the SLC data provider will select a float for single row in the
        single column table returned from a request.</p>
      <h1><a class="anchor" id="autotoc_md78"></a>
        Service Address</h1>
      <p>In EPICs <code>//</code> is used to delimit the optional host or service name from the PV (Process Variable).
        e.g. ...</p>
      <h1><a class="anchor" id="autotoc_md79"></a>
        Using AIDA-PVA</h1>
      <h2><a class="anchor" id="autotoc_md80"></a>
        Important EPICS Environment variables</h2>
      <h2><a class="anchor" id="autotoc_md81"></a>
        From the command line</h2>
      <h2><a class="anchor" id="autotoc_md82"></a>
        From Java</h2>
      <h2><a class="anchor" id="autotoc_md83"></a>
        From Matlab</h2>
      <h2><a class="anchor" id="autotoc_md84"></a>
        From ...</h2>
    </div>
  </div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/>
<address class="footer"><small>
  Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104"
                                                                      height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
